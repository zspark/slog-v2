var Logger = {
    Error: console.debug.bind(undefined, '[SLOG-error]'),
    Warn: console.debug.bind(undefined, '[SLOG-warn]'),
    Info: console.debug.bind(undefined, '[SLOG-info]'),
    Debug: console.debug.bind(undefined, '[SLOG-debug]'),
};

var RequestCode;
(function (RequestCode) {
    RequestCode[RequestCode["GET_PAGE_LIST"] = 2] = "GET_PAGE_LIST";
    RequestCode[RequestCode["GET_PAGE"] = 6] = "GET_PAGE";
    RequestCode[RequestCode["ADD_PAGE"] = 3] = "ADD_PAGE";
    RequestCode[RequestCode["UPDATE_PAGE"] = 4] = "UPDATE_PAGE";
    RequestCode[RequestCode["DELETE_PAGE"] = 5] = "DELETE_PAGE";
    RequestCode[RequestCode["ADD_WIDGET"] = 7] = "ADD_WIDGET";
    RequestCode[RequestCode["UPDATE_WIDGET"] = 8] = "UPDATE_WIDGET";
    RequestCode[RequestCode["MOVE_SECTION_DATA"] = 9] = "MOVE_SECTION_DATA";
    RequestCode[RequestCode["DELETE_WIDGET"] = 10] = "DELETE_WIDGET";
    RequestCode[RequestCode["GET_FOLDER_CONTENT_INFO"] = 20] = "GET_FOLDER_CONTENT_INFO";
    RequestCode[RequestCode["UPDATE_EXTERNAL_WEB_INNFO"] = 30] = "UPDATE_EXTERNAL_WEB_INNFO";
    RequestCode[RequestCode["UPLOAD_FILES"] = 40] = "UPLOAD_FILES";
    RequestCode[RequestCode["LOGIN"] = 50] = "LOGIN";
    RequestCode[RequestCode["CLIENT_STATUS"] = 998] = "CLIENT_STATUS";
    RequestCode[RequestCode["ARCHIVE"] = 999] = "ARCHIVE";
})(RequestCode || (RequestCode = {}));
var RespondCode;
(function (RespondCode) {
    RespondCode[RespondCode["FAIL"] = -1] = "FAIL";
    RespondCode[RespondCode["FILE_NOT_EXIST"] = -2] = "FILE_NOT_EXIST";
    RespondCode[RespondCode["ACCOUNT_NOT_EXIST"] = -4] = "ACCOUNT_NOT_EXIST";
    RespondCode[RespondCode["SESSION_NOT_EXIST"] = -5] = "SESSION_NOT_EXIST";
    RespondCode[RespondCode["PASSWORD_ERROR"] = -8] = "PASSWORD_ERROR";
    RespondCode[RespondCode["PAGE_NOT_EXIST"] = -9] = "PAGE_NOT_EXIST";
    RespondCode[RespondCode["META_ALREADY_EXIST"] = -10] = "META_ALREADY_EXIST";
    RespondCode[RespondCode["SECTION_ALREADY_EXIST"] = -11] = "SECTION_ALREADY_EXIST";
    RespondCode[RespondCode["SECTION_NOT_EXIST"] = -12] = "SECTION_NOT_EXIST";
    RespondCode[RespondCode["QUEST_CODE_INVALID"] = -30] = "QUEST_CODE_INVALID";
    RespondCode[RespondCode["JSON_PARSING_ERROR"] = -50] = "JSON_PARSING_ERROR";
    RespondCode[RespondCode["NOT_PUBLISHED"] = -100] = "NOT_PUBLISHED";
    RespondCode[RespondCode["FORBIDDEN"] = -400] = "FORBIDDEN";
    RespondCode[RespondCode["SHELL_CALL_ERROR"] = -999] = "SHELL_CALL_ERROR";
    RespondCode[RespondCode["INVALID_ARGUMENT"] = -1000] = "INVALID_ARGUMENT";
    RespondCode[RespondCode["UPLOAD_FAILED"] = -2000] = "UPLOAD_FAILED";
    RespondCode[RespondCode["UNKNOW_ERROR"] = -999999] = "UNKNOW_ERROR";
    RespondCode[RespondCode["UNKNOWN"] = 0] = "UNKNOWN";
    RespondCode[RespondCode["OK"] = 1] = "OK";
    RespondCode[RespondCode["OK_WITH_INFO"] = 2] = "OK_WITH_INFO";
    RespondCode[RespondCode["HEART_BEAT"] = 999999] = "HEART_BEAT";
})(RespondCode || (RespondCode = {}));
var DataType;
(function (DataType) {
    DataType[DataType["ARTICLE"] = 10] = "ARTICLE";
    DataType[DataType["TAG"] = 10] = "TAG";
    DataType[DataType["NOTEBOOK"] = 10] = "NOTEBOOK";
})(DataType || (DataType = {}));
var HistoryActionType;
(function (HistoryActionType) {
    HistoryActionType["UNKNOWN"] = "unknown";
    HistoryActionType["NEW"] = "new";
    HistoryActionType["DELETE"] = "deleted";
    HistoryActionType["MODIFIED"] = "modified";
})(HistoryActionType || (HistoryActionType = {}));

var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const _formHeader = new Headers();
function _Upload(data, delay = 5000, headers = _formHeader) {
    return __awaiter(this, void 0, void 0, function* () {
        const _ctrl = new AbortController();
        setTimeout(() => _ctrl.abort(), delay);
        const response = yield fetch("/upload", { method: "POST", headers, body: data, signal: _ctrl.signal });
        return response.json().then((cbData) => {
            if (cbData.code < 0) {
                return Promise.reject(cbData);
            }
            else {
                return cbData;
            }
        }, (error) => {
            Logger.Error(`net error ->`, error);
            return Promise.reject(error.msg);
        });
    });
}
const _jsonHeader = new Headers();
_jsonHeader.append("Content-Type", "application/json");
function _Post(req, headers = _jsonHeader) {
    return __awaiter(this, void 0, void 0, function* () {
        const response = yield fetch("/service", { method: "POST", headers, body: JSON.stringify(req) });
        return response.json().then((cbData) => {
            if (cbData.code < 0) {
                Logger.Error(`server respond: code:${cbData.code}, msg:${cbData.msg}`);
                return Promise.reject();
            }
            else {
                return cbData.data;
            }
        }, (error) => {
            Logger.Error(`net error -> ${error}`);
            return Promise.reject(error.msg);
        });
    });
}
function ReadWriteAuthorization() {
    return {
        Login(account, pwd) {
            return _Post({ code: RequestCode.LOGIN, data: { remeberMe: true, account, pwd } });
        },
        GetPageList() {
            return _Post({ code: RequestCode.GET_PAGE_LIST, data: {} });
        },
        GetPage(id) {
            return _Post({ code: RequestCode.GET_PAGE, data: { id } });
        },
        AddPage() {
            return _Post({ code: RequestCode.ADD_PAGE, data: {} });
        },
        UpdatePage(pp) {
            return _Post({ code: RequestCode.UPDATE_PAGE, data: { pp } });
        },
        DeletePage(id) {
            return _Post({ code: RequestCode.DELETE_PAGE, data: { id } });
        },
        AddWidget(id, type, index = Number.MAX_SAFE_INTEGER) {
            return _Post({ code: RequestCode.ADD_WIDGET, data: { pid: id, type, index } });
        },
        UpdateWidget(pid, wc) {
            return _Post({ code: RequestCode.UPDATE_WIDGET, data: { pid, wc } });
        },
        DeleteWidget(pid, wid) {
            return _Post({ code: RequestCode.DELETE_WIDGET, data: { pid, wid } });
        },
        Archive() {
            return _Post({ code: RequestCode.ARCHIVE, data: {} });
        },
        Upload(data) {
            return _Upload(data);
        },
    };
}
const _api = ReadWriteAuthorization();

function _f(_) { }
class DelayPromise {
    constructor() {
        this._resovleFn = _f;
        this._rejectFn = _f;
        this._promise = new Promise((resolve, reject) => {
            this._resovleFn = resolve;
            this._rejectFn = reject;
        });
    }
    Resolve(data) {
        this._resovleFn(data);
    }
    Reject(reason) {
        this._rejectFn(reason);
    }
    get promise() {
        return this._promise;
    }
    Destroy() {
        this._resovleFn = _f;
        this._rejectFn = _f;
    }
}

const _ELEMENT_FRAGMENT = document.createDocumentFragment();
function GetAndRemoveElement(TPL, queryString) {
    const _tmp = TPL.querySelector(queryString);
    if (!_tmp) {
        Logger.Error(`template did NOT found: ${queryString}.`);
        return null;
    }
    _tmp.remove();
    return _tmp;
}
function LoadScriptWithHTMLScriptTag(url) {
    const _dp = new DelayPromise();
    const _s = document.createElement('script');
    _s.src = url;
    _s.onload = e => {
        _dp.Resolve(true);
    };
    document.head.append(_s);
    return _dp.promise;
}
const _PADDING_SIZE = { w: 30, h: 30 };
function CalcuDropdowPos(target, refPos) {
    window.document.body.append(target);
    const _size = { w: target.offsetWidth, h: target.offsetHeight };
    const _clientSZ = { w: window.document.body.clientWidth - _PADDING_SIZE.w, h: window.document.body.clientHeight - _PADDING_SIZE.h };
    const _out = { x: refPos.x, y: refPos.y };
    let _deltaX = _clientSZ.w - _size.w;
    if (_deltaX < 0) {
        _out.x += _deltaX * 0.5;
    }
    else {
        let _right = refPos.x + _size.w;
        _deltaX = _clientSZ.w - _right;
        if (_deltaX < 0) {
            _out.x += _deltaX;
        }
    }
    let _deltaY = _clientSZ.h - _size.h;
    if (_deltaY < 0) {
        _out.y += _deltaY * 0.5;
    }
    else {
        let _bottom = refPos.y + _size.h;
        _deltaY = _clientSZ.h - _bottom;
        if (_deltaY < 0) {
            _out.y += _deltaY;
        }
    }
    return _out;
}
const _e = document.createElement('div');
function RemoveContentIfExist(elem) {
    if (elem)
        elem.innerHTML = "";
}
function RemoveIfExist(elem) {
    if (elem)
        elem.remove();
    return elem !== null && elem !== void 0 ? elem : _e;
}
function GetElement(elem, qString) {
    var _a;
    if (elem)
        return (_a = elem.querySelector(qString)) !== null && _a !== void 0 ? _a : _e;
    return _e;
}
function GetElementExt(elem, qString) {
    if (elem) {
        const _e = elem.querySelector(qString);
        return _e ? _e : null;
    }
    return null;
}
function InsertElementAt(parentElem, elem, index) {
    if (elem && parentElem) {
        const _count = parentElem.childElementCount;
        index = Math.max(0, Math.min(_count, index));
        if (_count === index) {
            parentElem.append(elem);
        }
        else if (_count === 0) {
            parentElem.prepend(elem);
        }
        else {
            let _pivotElem = parentElem.children[index];
            _pivotElem.before(elem);
        }
    }
}

export { CalcuDropdowPos as C, GetElement as G, InsertElementAt as I, Logger as L, RemoveIfExist as R, _api as _, _ELEMENT_FRAGMENT as a, GetAndRemoveElement as b, RemoveContentIfExist as c, GetElementExt as d, LoadScriptWithHTMLScriptTag as e };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLmJ1bmRsZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLmJ1aWxkL2NvbW1vbi9sb2dnZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uYnVpbGQvY29tbW9uL21lc3NhZ2UuanMiLCIuLi8uLi8uLi8uLi8uLi8uYnVpbGQvY2xpZW50L2NvcmUvc2VydmVyLXByb3h5LmpzIiwiLi4vLi4vLi4vLi4vLi4vLmJ1aWxkL2NvbW1vbi9kZWxheS1wcm9taXNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLmJ1aWxkL2NsaWVudC91aS91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTVEFDS19MSU5FX1JFR0VYID0gLyhcXGQrKTooXFxkKylcXCk/JC87XHJcbmNvbnN0IF9zeXN0ZW1FcnJvciA9IEVycm9yO1xyXG5mdW5jdGlvbiBfRXJyb3IobXNnLCBwcmVmaXggPSBgW1NMT0ddYCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgbGV0IF9saW5lTnVtYmVyID0gLTE7XHJcbiAgICBjb25zdCBzdGFja3MgPSAoX2EgPSBuZXcgX3N5c3RlbUVycm9yKCkuc3RhY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdChcIlxcXFxuXCIpO1xyXG4gICAgaWYgKHN0YWNrcykge1xyXG4gICAgICAgIGNvbnN0IF9yZXMgPSBTVEFDS19MSU5FX1JFR0VYLmV4ZWMoc3RhY2tzWzJdKTtcclxuICAgICAgICBpZiAoX3JlcyAmJiBfcmVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgX2xpbmVOdW1iZXIgPSBOdW1iZXIucGFyc2VJbnQoX3Jlc1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5lcnJvcihgJHtwcmVmaXh9IGF0IGxpbmU6JHtfbGluZU51bWJlcn06ICR7bXNnfWApO1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIEVycm9yOiBjb25zb2xlLmRlYnVnLmJpbmQodW5kZWZpbmVkLCAnW1NMT0ctZXJyb3JdJyksXHJcbiAgICBXYXJuOiBjb25zb2xlLmRlYnVnLmJpbmQodW5kZWZpbmVkLCAnW1NMT0ctd2Fybl0nKSxcclxuICAgIEluZm86IGNvbnNvbGUuZGVidWcuYmluZCh1bmRlZmluZWQsICdbU0xPRy1pbmZvXScpLFxyXG4gICAgRGVidWc6IGNvbnNvbGUuZGVidWcuYmluZCh1bmRlZmluZWQsICdbU0xPRy1kZWJ1Z10nKSxcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLmpzLm1hcCIsImV4cG9ydCB2YXIgUmVxdWVzdENvZGU7XHJcbihmdW5jdGlvbiAoUmVxdWVzdENvZGUpIHtcclxuICAgIFJlcXVlc3RDb2RlW1JlcXVlc3RDb2RlW1wiR0VUX1BBR0VfTElTVFwiXSA9IDJdID0gXCJHRVRfUEFHRV9MSVNUXCI7XHJcbiAgICBSZXF1ZXN0Q29kZVtSZXF1ZXN0Q29kZVtcIkdFVF9QQUdFXCJdID0gNl0gPSBcIkdFVF9QQUdFXCI7XHJcbiAgICBSZXF1ZXN0Q29kZVtSZXF1ZXN0Q29kZVtcIkFERF9QQUdFXCJdID0gM10gPSBcIkFERF9QQUdFXCI7XHJcbiAgICBSZXF1ZXN0Q29kZVtSZXF1ZXN0Q29kZVtcIlVQREFURV9QQUdFXCJdID0gNF0gPSBcIlVQREFURV9QQUdFXCI7XHJcbiAgICBSZXF1ZXN0Q29kZVtSZXF1ZXN0Q29kZVtcIkRFTEVURV9QQUdFXCJdID0gNV0gPSBcIkRFTEVURV9QQUdFXCI7XHJcbiAgICBSZXF1ZXN0Q29kZVtSZXF1ZXN0Q29kZVtcIkFERF9XSURHRVRcIl0gPSA3XSA9IFwiQUREX1dJREdFVFwiO1xyXG4gICAgUmVxdWVzdENvZGVbUmVxdWVzdENvZGVbXCJVUERBVEVfV0lER0VUXCJdID0gOF0gPSBcIlVQREFURV9XSURHRVRcIjtcclxuICAgIFJlcXVlc3RDb2RlW1JlcXVlc3RDb2RlW1wiTU9WRV9TRUNUSU9OX0RBVEFcIl0gPSA5XSA9IFwiTU9WRV9TRUNUSU9OX0RBVEFcIjtcclxuICAgIFJlcXVlc3RDb2RlW1JlcXVlc3RDb2RlW1wiREVMRVRFX1dJREdFVFwiXSA9IDEwXSA9IFwiREVMRVRFX1dJREdFVFwiO1xyXG4gICAgUmVxdWVzdENvZGVbUmVxdWVzdENvZGVbXCJHRVRfRk9MREVSX0NPTlRFTlRfSU5GT1wiXSA9IDIwXSA9IFwiR0VUX0ZPTERFUl9DT05URU5UX0lORk9cIjtcclxuICAgIFJlcXVlc3RDb2RlW1JlcXVlc3RDb2RlW1wiVVBEQVRFX0VYVEVSTkFMX1dFQl9JTk5GT1wiXSA9IDMwXSA9IFwiVVBEQVRFX0VYVEVSTkFMX1dFQl9JTk5GT1wiO1xyXG4gICAgUmVxdWVzdENvZGVbUmVxdWVzdENvZGVbXCJVUExPQURfRklMRVNcIl0gPSA0MF0gPSBcIlVQTE9BRF9GSUxFU1wiO1xyXG4gICAgUmVxdWVzdENvZGVbUmVxdWVzdENvZGVbXCJMT0dJTlwiXSA9IDUwXSA9IFwiTE9HSU5cIjtcclxuICAgIFJlcXVlc3RDb2RlW1JlcXVlc3RDb2RlW1wiQ0xJRU5UX1NUQVRVU1wiXSA9IDk5OF0gPSBcIkNMSUVOVF9TVEFUVVNcIjtcclxuICAgIFJlcXVlc3RDb2RlW1JlcXVlc3RDb2RlW1wiQVJDSElWRVwiXSA9IDk5OV0gPSBcIkFSQ0hJVkVcIjtcclxufSkoUmVxdWVzdENvZGUgfHwgKFJlcXVlc3RDb2RlID0ge30pKTtcclxuZXhwb3J0IHZhciBSZXNwb25kQ29kZTtcclxuKGZ1bmN0aW9uIChSZXNwb25kQ29kZSkge1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJGQUlMXCJdID0gLTFdID0gXCJGQUlMXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIkZJTEVfTk9UX0VYSVNUXCJdID0gLTJdID0gXCJGSUxFX05PVF9FWElTVFwiO1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJBQ0NPVU5UX05PVF9FWElTVFwiXSA9IC00XSA9IFwiQUNDT1VOVF9OT1RfRVhJU1RcIjtcclxuICAgIFJlc3BvbmRDb2RlW1Jlc3BvbmRDb2RlW1wiU0VTU0lPTl9OT1RfRVhJU1RcIl0gPSAtNV0gPSBcIlNFU1NJT05fTk9UX0VYSVNUXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIlBBU1NXT1JEX0VSUk9SXCJdID0gLThdID0gXCJQQVNTV09SRF9FUlJPUlwiO1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJQQUdFX05PVF9FWElTVFwiXSA9IC05XSA9IFwiUEFHRV9OT1RfRVhJU1RcIjtcclxuICAgIFJlc3BvbmRDb2RlW1Jlc3BvbmRDb2RlW1wiTUVUQV9BTFJFQURZX0VYSVNUXCJdID0gLTEwXSA9IFwiTUVUQV9BTFJFQURZX0VYSVNUXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIlNFQ1RJT05fQUxSRUFEWV9FWElTVFwiXSA9IC0xMV0gPSBcIlNFQ1RJT05fQUxSRUFEWV9FWElTVFwiO1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJTRUNUSU9OX05PVF9FWElTVFwiXSA9IC0xMl0gPSBcIlNFQ1RJT05fTk9UX0VYSVNUXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIlFVRVNUX0NPREVfSU5WQUxJRFwiXSA9IC0zMF0gPSBcIlFVRVNUX0NPREVfSU5WQUxJRFwiO1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJKU09OX1BBUlNJTkdfRVJST1JcIl0gPSAtNTBdID0gXCJKU09OX1BBUlNJTkdfRVJST1JcIjtcclxuICAgIFJlc3BvbmRDb2RlW1Jlc3BvbmRDb2RlW1wiTk9UX1BVQkxJU0hFRFwiXSA9IC0xMDBdID0gXCJOT1RfUFVCTElTSEVEXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIkZPUkJJRERFTlwiXSA9IC00MDBdID0gXCJGT1JCSURERU5cIjtcclxuICAgIFJlc3BvbmRDb2RlW1Jlc3BvbmRDb2RlW1wiU0hFTExfQ0FMTF9FUlJPUlwiXSA9IC05OTldID0gXCJTSEVMTF9DQUxMX0VSUk9SXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIklOVkFMSURfQVJHVU1FTlRcIl0gPSAtMTAwMF0gPSBcIklOVkFMSURfQVJHVU1FTlRcIjtcclxuICAgIFJlc3BvbmRDb2RlW1Jlc3BvbmRDb2RlW1wiVVBMT0FEX0ZBSUxFRFwiXSA9IC0yMDAwXSA9IFwiVVBMT0FEX0ZBSUxFRFwiO1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJVTktOT1dfRVJST1JcIl0gPSAtOTk5OTk5XSA9IFwiVU5LTk9XX0VSUk9SXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJPS1wiXSA9IDFdID0gXCJPS1wiO1xyXG4gICAgUmVzcG9uZENvZGVbUmVzcG9uZENvZGVbXCJPS19XSVRIX0lORk9cIl0gPSAyXSA9IFwiT0tfV0lUSF9JTkZPXCI7XHJcbiAgICBSZXNwb25kQ29kZVtSZXNwb25kQ29kZVtcIkhFQVJUX0JFQVRcIl0gPSA5OTk5OTldID0gXCJIRUFSVF9CRUFUXCI7XHJcbn0pKFJlc3BvbmRDb2RlIHx8IChSZXNwb25kQ29kZSA9IHt9KSk7XHJcbjtcclxuZXhwb3J0IHZhciBEYXRhVHlwZTtcclxuKGZ1bmN0aW9uIChEYXRhVHlwZSkge1xyXG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJBUlRJQ0xFXCJdID0gMTBdID0gXCJBUlRJQ0xFXCI7XHJcbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcIlRBR1wiXSA9IDEwXSA9IFwiVEFHXCI7XHJcbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcIk5PVEVCT09LXCJdID0gMTBdID0gXCJOT1RFQk9PS1wiO1xyXG59KShEYXRhVHlwZSB8fCAoRGF0YVR5cGUgPSB7fSkpO1xyXG5leHBvcnQgdmFyIEhpc3RvcnlBY3Rpb25UeXBlO1xyXG4oZnVuY3Rpb24gKEhpc3RvcnlBY3Rpb25UeXBlKSB7XHJcbiAgICBIaXN0b3J5QWN0aW9uVHlwZVtcIlVOS05PV05cIl0gPSBcInVua25vd25cIjtcclxuICAgIEhpc3RvcnlBY3Rpb25UeXBlW1wiTkVXXCJdID0gXCJuZXdcIjtcclxuICAgIEhpc3RvcnlBY3Rpb25UeXBlW1wiREVMRVRFXCJdID0gXCJkZWxldGVkXCI7XHJcbiAgICBIaXN0b3J5QWN0aW9uVHlwZVtcIk1PRElGSUVEXCJdID0gXCJtb2RpZmllZFwiO1xyXG59KShIaXN0b3J5QWN0aW9uVHlwZSB8fCAoSGlzdG9yeUFjdGlvblR5cGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlLmpzLm1hcCIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vY29tbW9uL2xvZ2dlclwiO1xyXG5pbXBvcnQgeyBSZXF1ZXN0Q29kZSwgfSBmcm9tIFwiLi4vLi4vY29tbW9uL21lc3NhZ2VcIjtcclxuY29uc3QgX2Zvcm1IZWFkZXIgPSBuZXcgSGVhZGVycygpO1xyXG5mdW5jdGlvbiBfVXBsb2FkKGRhdGEsIGRlbGF5ID0gNTAwMCwgaGVhZGVycyA9IF9mb3JtSGVhZGVyKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IF9jdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gX2N0cmwuYWJvcnQoKSwgZGVsYXkpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goXCIvdXBsb2FkXCIsIHsgbWV0aG9kOiBcIlBPU1RcIiwgaGVhZGVycywgYm9keTogZGF0YSwgc2lnbmFsOiBfY3RybC5zaWduYWwgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKChjYkRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNiRGF0YS5jb2RlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNiRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2JEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIExvZ2dlci5FcnJvcihgbmV0IGVycm9yIC0+YCwgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IubXNnKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IF9qc29uSGVhZGVyID0gbmV3IEhlYWRlcnMoKTtcclxuX2pzb25IZWFkZXIuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuZnVuY3Rpb24gX1Bvc3QocmVxLCBoZWFkZXJzID0gX2pzb25IZWFkZXIpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChcIi9zZXJ2aWNlXCIsIHsgbWV0aG9kOiBcIlBPU1RcIiwgaGVhZGVycywgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKSB9KTtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oKGNiRGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2JEYXRhLmNvZGUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBMb2dnZXIuRXJyb3IoYHNlcnZlciByZXNwb25kOiBjb2RlOiR7Y2JEYXRhLmNvZGV9LCBtc2c6JHtjYkRhdGEubXNnfWApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2JEYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgTG9nZ2VyLkVycm9yKGBuZXQgZXJyb3IgLT4gJHtlcnJvcn1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yLm1zZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBSZWFkV3JpdGVBdXRob3JpemF0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBMb2dpbihhY2NvdW50LCBwd2QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9Qb3N0KHsgY29kZTogUmVxdWVzdENvZGUuTE9HSU4sIGRhdGE6IHsgcmVtZWJlck1lOiB0cnVlLCBhY2NvdW50LCBwd2QgfSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIEdldFBhZ2VMaXN0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX1Bvc3QoeyBjb2RlOiBSZXF1ZXN0Q29kZS5HRVRfUEFHRV9MSVNULCBkYXRhOiB7fSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIEdldFBhZ2UoaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9Qb3N0KHsgY29kZTogUmVxdWVzdENvZGUuR0VUX1BBR0UsIGRhdGE6IHsgaWQgfSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIEFkZFBhZ2UoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfUG9zdCh7IGNvZGU6IFJlcXVlc3RDb2RlLkFERF9QQUdFLCBkYXRhOiB7fSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFVwZGF0ZVBhZ2UocHApIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9Qb3N0KHsgY29kZTogUmVxdWVzdENvZGUuVVBEQVRFX1BBR0UsIGRhdGE6IHsgcHAgfSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIERlbGV0ZVBhZ2UoaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9Qb3N0KHsgY29kZTogUmVxdWVzdENvZGUuREVMRVRFX1BBR0UsIGRhdGE6IHsgaWQgfSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIEFkZFdpZGdldChpZCwgdHlwZSwgaW5kZXggPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xyXG4gICAgICAgICAgICByZXR1cm4gX1Bvc3QoeyBjb2RlOiBSZXF1ZXN0Q29kZS5BRERfV0lER0VULCBkYXRhOiB7IHBpZDogaWQsIHR5cGUsIGluZGV4IH0gfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBVcGRhdGVXaWRnZXQocGlkLCB3Yykge1xyXG4gICAgICAgICAgICByZXR1cm4gX1Bvc3QoeyBjb2RlOiBSZXF1ZXN0Q29kZS5VUERBVEVfV0lER0VULCBkYXRhOiB7IHBpZCwgd2MgfSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIERlbGV0ZVdpZGdldChwaWQsIHdpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX1Bvc3QoeyBjb2RlOiBSZXF1ZXN0Q29kZS5ERUxFVEVfV0lER0VULCBkYXRhOiB7IHBpZCwgd2lkIH0gfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBBcmNoaXZlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX1Bvc3QoeyBjb2RlOiBSZXF1ZXN0Q29kZS5BUkNISVZFLCBkYXRhOiB7fSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFVwbG9hZChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfVXBsb2FkKGRhdGEpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IF9hcGkgPSBSZWFkV3JpdGVBdXRob3JpemF0aW9uKCk7XHJcbmV4cG9ydCBkZWZhdWx0IF9hcGk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZlci1wcm94eS5qcy5tYXAiLCJmdW5jdGlvbiBfZihfKSB7IH1cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVsYXlQcm9taXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX3Jlc292bGVGbiA9IF9mO1xyXG4gICAgICAgIHRoaXMuX3JlamVjdEZuID0gX2Y7XHJcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb3ZsZUZuID0gcmVzb2x2ZTtcclxuICAgICAgICAgICAgdGhpcy5fcmVqZWN0Rm4gPSByZWplY3Q7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBSZXNvbHZlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9yZXNvdmxlRm4oZGF0YSk7XHJcbiAgICB9XHJcbiAgICBSZWplY3QocmVhc29uKSB7XHJcbiAgICAgICAgdGhpcy5fcmVqZWN0Rm4ocmVhc29uKTtcclxuICAgIH1cclxuICAgIGdldCBwcm9taXNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xyXG4gICAgfVxyXG4gICAgRGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl9yZXNvdmxlRm4gPSBfZjtcclxuICAgICAgICB0aGlzLl9yZWplY3RGbiA9IF9mO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LXByb21pc2UuanMubWFwIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vLi4vY29tbW9uL2xvZ2dlclwiO1xyXG5pbXBvcnQgRGVsYXlQcm9taXNlIGZyb20gXCIuLi8uLi9jb21tb24vZGVsYXktcHJvbWlzZVwiO1xyXG5leHBvcnQgZnVuY3Rpb24gR2V0KGUsIHFTdHJpbmcpIHtcclxuICAgIGlmIChlKSB7XHJcbiAgICAgICAgY29uc3QgX2UgPSBlLnF1ZXJ5U2VsZWN0b3IocVN0cmluZyk7XHJcbiAgICAgICAgcmV0dXJuIF9lID8gX2UgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIFNldElucHV0VmFsdWUodGFyZ2V0LCB2YWx1ZSkge1xyXG4gICAgaWYgKCF0YXJnZXQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgY29uc3QgX3R5cGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtcclxuICAgIGlmIChfdHlwZSkge1xyXG4gICAgICAgIHN3aXRjaCAoX3R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcclxuICAgICAgICAgICAgICAgIHRhcmdldC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2hlY2tlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYG5vIHN1Y2ggdHlwZToke190eXBlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gR2V0SW5wdXRWYWx1ZSh0YXJnZXQpIHtcclxuICAgIGlmICghdGFyZ2V0KVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCBfdHlwZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xyXG4gICAgaWYgKF90eXBlKSB7XHJcbiAgICAgICAgc3dpdGNoIChfdHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwic2VhcmNoXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuY2hlY2tlZDtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihgbm8gc3VjaCB0eXBlOiR7X3R5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIEdldFRlbXBsYXRlKG1haW5VSSwgcVN0cmluZykge1xyXG4gICAgY29uc3QgX2VsZW0gPSBtYWluVUkucXVlcnlTZWxlY3RvcihxU3RyaW5nKTtcclxuICAgIGlmICghX2VsZW0pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFtTTE9HXSBubyBzdWNoIHRlbXBsYXRlOiAke3FTdHJpbmd9YCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX2VsZW07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIEluc3RhbnRpYXRlVGVtcGxhdGUodHBsLCBjbG9uZSA9IHRydWUsIGluZGV4ID0gMCkge1xyXG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0cGwuY29udGVudC5jaGlsZEVsZW1lbnRDb3VudCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgW1NMT0ddIG5vIHN1Y2ggY2hpbGQgZWxlbWVudCBhdCBpbmRleDogJHtpbmRleH1gKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBfZWxlbSA9IHRwbC5jb250ZW50LmNoaWxkcmVuLml0ZW0oaW5kZXgpO1xyXG4gICAgcmV0dXJuIChjbG9uZSA/IF9lbGVtLmNsb25lTm9kZSh0cnVlKSA6IF9lbGVtKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gQWRkU3R5bGUoZWxlbSwga2V5LCB2YWx1ZSkge1xyXG4gICAgZWxlbS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlU3R5bGUoZWxlbSwga2V5KSB7XHJcbiAgICBlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XHJcbn1cclxuZXhwb3J0IGNvbnN0IF9FTEVNRU5UX0ZSQUdNRU5UID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5leHBvcnQgZnVuY3Rpb24gU2V0SW5uZXJUZXh0KGVsZW0sIHFTdHJpbmcsIHRleHQpIHtcclxuICAgIGNvbnN0IF9lID0gZWxlbS5xdWVyeVNlbGVjdG9yKHFTdHJpbmcpO1xyXG4gICAgaWYgKF9lKVxyXG4gICAgICAgIF9lLmlubmVyVGV4dCA9IHRleHQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIFNldElubmVySFRNTChlbGVtLCBxU3RyaW5nLCBodG1sKSB7XHJcbiAgICBjb25zdCBfZSA9IGVsZW0ucXVlcnlTZWxlY3RvcihxU3RyaW5nKTtcclxuICAgIGlmIChfZSlcclxuICAgICAgICBfZS5pbm5lckhUTUwgPSBodG1sO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRJbWdTcmMoZWxlbSwgcVN0cmluZywgdmFsdWUpIHtcclxuICAgIGNvbnN0IF9lID0gZWxlbS5xdWVyeVNlbGVjdG9yKHFTdHJpbmcpO1xyXG4gICAgaWYgKF9lKVxyXG4gICAgICAgIF9lLnNyYyA9IHZhbHVlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRMaW5rSHJlZihlbGVtLCBxU3RyaW5nLCB2YWx1ZSkge1xyXG4gICAgY29uc3QgX2UgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IocVN0cmluZyk7XHJcbiAgICBpZiAoX2UpXHJcbiAgICAgICAgX2VbJ2hyZWYnXSA9IHZhbHVlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRBbmRSZW1vdmVFbGVtZW50KFRQTCwgcXVlcnlTdHJpbmcpIHtcclxuICAgIGNvbnN0IF90bXAgPSBUUEwucXVlcnlTZWxlY3RvcihxdWVyeVN0cmluZyk7XHJcbiAgICBpZiAoIV90bXApIHtcclxuICAgICAgICBMb2dnZXIuRXJyb3IoYHRlbXBsYXRlIGRpZCBOT1QgZm91bmQ6ICR7cXVlcnlTdHJpbmd9LmApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgX3RtcC5yZW1vdmUoKTtcclxuICAgIHJldHVybiBfdG1wO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBMb2FkU2NyaXB0V2l0aEhUTUxTY3JpcHRUYWcodXJsKSB7XHJcbiAgICBjb25zdCBfZHAgPSBuZXcgRGVsYXlQcm9taXNlKCk7XHJcbiAgICBjb25zdCBfcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgX3Muc3JjID0gdXJsO1xyXG4gICAgX3Mub25sb2FkID0gZSA9PiB7XHJcbiAgICAgICAgX2RwLlJlc29sdmUodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmQoX3MpO1xyXG4gICAgcmV0dXJuIF9kcC5wcm9taXNlO1xyXG59XHJcbmNvbnN0IF9QQURESU5HX1NJWkUgPSB7IHc6IDMwLCBoOiAzMCB9O1xyXG5leHBvcnQgZnVuY3Rpb24gQ2FsY3VEcm9wZG93UG9zKHRhcmdldCwgcmVmUG9zKSB7XHJcbiAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmQodGFyZ2V0KTtcclxuICAgIGNvbnN0IF9zaXplID0geyB3OiB0YXJnZXQub2Zmc2V0V2lkdGgsIGg6IHRhcmdldC5vZmZzZXRIZWlnaHQgfTtcclxuICAgIGNvbnN0IF9jbGllbnRTWiA9IHsgdzogd2luZG93LmRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLSBfUEFERElOR19TSVpFLncsIGg6IHdpbmRvdy5kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAtIF9QQURESU5HX1NJWkUuaCB9O1xyXG4gICAgY29uc3QgX291dCA9IHsgeDogcmVmUG9zLngsIHk6IHJlZlBvcy55IH07XHJcbiAgICBsZXQgX2RlbHRhWCA9IF9jbGllbnRTWi53IC0gX3NpemUudztcclxuICAgIGlmIChfZGVsdGFYIDwgMCkge1xyXG4gICAgICAgIF9vdXQueCArPSBfZGVsdGFYICogMC41O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IF9yaWdodCA9IHJlZlBvcy54ICsgX3NpemUudztcclxuICAgICAgICBfZGVsdGFYID0gX2NsaWVudFNaLncgLSBfcmlnaHQ7XHJcbiAgICAgICAgaWYgKF9kZWx0YVggPCAwKSB7XHJcbiAgICAgICAgICAgIF9vdXQueCArPSBfZGVsdGFYO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBfZGVsdGFZID0gX2NsaWVudFNaLmggLSBfc2l6ZS5oO1xyXG4gICAgaWYgKF9kZWx0YVkgPCAwKSB7XHJcbiAgICAgICAgX291dC55ICs9IF9kZWx0YVkgKiAwLjU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgX2JvdHRvbSA9IHJlZlBvcy55ICsgX3NpemUuaDtcclxuICAgICAgICBfZGVsdGFZID0gX2NsaWVudFNaLmggLSBfYm90dG9tO1xyXG4gICAgICAgIGlmIChfZGVsdGFZIDwgMCkge1xyXG4gICAgICAgICAgICBfb3V0LnkgKz0gX2RlbHRhWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX291dDtcclxufVxyXG5jb25zdCBfZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQ29udGVudElmRXhpc3QoZWxlbSkge1xyXG4gICAgaWYgKGVsZW0pXHJcbiAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBcIlwiO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVJZkV4aXN0KGVsZW0pIHtcclxuICAgIGlmIChlbGVtKVxyXG4gICAgICAgIGVsZW0ucmVtb3ZlKCk7XHJcbiAgICByZXR1cm4gZWxlbSAhPT0gbnVsbCAmJiBlbGVtICE9PSB2b2lkIDAgPyBlbGVtIDogX2U7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIEdldEVsZW1lbnQoZWxlbSwgcVN0cmluZykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgaWYgKGVsZW0pXHJcbiAgICAgICAgcmV0dXJuIChfYSA9IGVsZW0ucXVlcnlTZWxlY3RvcihxU3RyaW5nKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogX2U7XHJcbiAgICByZXR1cm4gX2U7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIEdldEVsZW1lbnRFeHQoZWxlbSwgcVN0cmluZykge1xyXG4gICAgaWYgKGVsZW0pIHtcclxuICAgICAgICBjb25zdCBfZSA9IGVsZW0ucXVlcnlTZWxlY3RvcihxU3RyaW5nKTtcclxuICAgICAgICByZXR1cm4gX2UgPyBfZSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gR2V0RWxlbWVudHMoZWxlbSwgcVN0cmluZykge1xyXG4gICAgaWYgKGVsZW0pXHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbS5xdWVyeVNlbGVjdG9yQWxsKHFTdHJpbmcpKTtcclxuICAgIHJldHVybiBbXTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gSW5zZXJ0RWxlbWVudEF0KHBhcmVudEVsZW0sIGVsZW0sIGluZGV4KSB7XHJcbiAgICBpZiAoZWxlbSAmJiBwYXJlbnRFbGVtKSB7XHJcbiAgICAgICAgY29uc3QgX2NvdW50ID0gcGFyZW50RWxlbS5jaGlsZEVsZW1lbnRDb3VudDtcclxuICAgICAgICBpbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKF9jb3VudCwgaW5kZXgpKTtcclxuICAgICAgICBpZiAoX2NvdW50ID09PSBpbmRleCkge1xyXG4gICAgICAgICAgICBwYXJlbnRFbGVtLmFwcGVuZChlbGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX2NvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudEVsZW0ucHJlcGVuZChlbGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBfcGl2b3RFbGVtID0gcGFyZW50RWxlbS5jaGlsZHJlbltpbmRleF07XHJcbiAgICAgICAgICAgIF9waXZvdEVsZW0uYmVmb3JlKGVsZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOlsidGhpcyJdLCJtYXBwaW5ncyI6IkFBY0EsYUFBZTtBQUNmLElBQUksS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLLENB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
