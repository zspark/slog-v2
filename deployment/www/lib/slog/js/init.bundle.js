import { L as Logger, e as LoadScriptWithHTMLScriptTag, d as GetElementExt, _ as _api } from './shared.bundle.js';

function DynamicImport(url) {
    return import(url).then((module) => {
        return module;
    }, (reason) => {
        Logger.Error(`can NOT load file dynamically: ${url}
reason:${reason.toString()}`);
        return null;
    });
}

const _con = document.querySelector('[before-loaded]');
const _loading = _con.querySelector('[slg-loading]');
const _uiFilePath = "../ui/";
const _arrPromise = [];
_arrPromise.push(DynamicImport(`${_uiFilePath}main.ui.js` ));
_arrPromise.push(DynamicImport(`./main.bundle.js` ));
const _URL = new URL(window.location.href);
const _cmds = _URL.searchParams.get("cmd");
if (_cmds) {
    const arrCmd = _cmds.split('|');
    if (arrCmd.includes('login')) {
        const _arr = [];
        _arr.push(LoadScriptWithHTMLScriptTag('./lib/md5/md5.min.js'));
        _arr.push(DynamicImport(`${_uiFilePath}login.ui.js` ));
        Promise.all(_arr).then(arrModel => {
            const _doc = new DOMParser().parseFromString(arrModel[1].default, 'text/html');
            const _targetElem = _doc.querySelector("body [slg-login]");
            if (_targetElem) {
                _con.append(_targetElem);
                const _button = _targetElem.querySelector('[slg-login-button]');
                _button.onclick = e => {
                    var _b, _c, _d, _e, _f, _g;
                    (_c = (_b = GetElementExt(_targetElem, "input[name='rem']")) === null || _b === void 0 ? void 0 : _b.checked) !== null && _c !== void 0 ? _c : false;
                    const _a = (_e = (_d = GetElementExt(_targetElem, "input[name='account']")) === null || _d === void 0 ? void 0 : _d.value) !== null && _e !== void 0 ? _e : '';
                    const _p = (_g = (_f = GetElementExt(_targetElem, "input[name='pwd']")) === null || _f === void 0 ? void 0 : _f.value) !== null && _g !== void 0 ? _g : '';
                    _api.Login(_a, window.MD5(_p)).then(_ => {
                        Logger.Info('login successfully');
                        _Start({
                            arrCmd,
                            editorMode: true,
                        });
                    }, _ => { }).finally(() => {
                        _button.onclick = null;
                    });
                };
                _loading.remove();
            }
        });
    }
}
else {
    _Start({
        editorMode: false,
    });
}
function _Start(option) {
    Promise.all(_arrPromise).then((arrData) => {
        const _doc2 = new DOMParser().parseFromString(arrData[0].default, 'text/html');
        const Application = arrData[1].default;
        new Application(_doc2.body, option);
        const _arrElem = [];
        _doc2.body.childNodes.forEach(n => {
            _arrElem.push(n);
        });
        document.body.replaceChildren(..._arrElem);
    });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLmJ1aWxkL2NvbW1vbi9keW5hbWljLWltcG9ydC5qcyIsIi4uLy4uLy4uLy4uLy4uLy5idWlsZC9jbGllbnQvaW5pdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEeW5hbWljSW1wb3J0KHVybCkge1xyXG4gICAgcmV0dXJuIGltcG9ydCh1cmwpLnRoZW4oKG1vZHVsZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBtb2R1bGU7XHJcbiAgICB9LCAocmVhc29uKSA9PiB7XHJcbiAgICAgICAgTG9nZ2VyLkVycm9yKGBjYW4gTk9UIGxvYWQgZmlsZSBkeW5hbWljYWxseTogJHt1cmx9XHJcbnJlYXNvbjoke3JlYXNvbi50b1N0cmluZygpfWApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHluYW1pYy1pbXBvcnQuanMubWFwIiwiaW1wb3J0IER5bmFtaWNJbXBvcnQgZnJvbSBcIi4uL2NvbW1vbi9keW5hbWljLWltcG9ydFwiO1xyXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9jb21tb24vbG9nZ2VyXCI7XHJcbmltcG9ydCBTZXJ2ZXJQcm94eSBmcm9tIFwiLi9jb3JlL3NlcnZlci1wcm94eVwiO1xyXG5pbXBvcnQgeyBMb2FkU2NyaXB0V2l0aEhUTUxTY3JpcHRUYWcsIEdldEVsZW1lbnRFeHQgfSBmcm9tIFwiLi91aS91dGlsc1wiO1xyXG5jb25zdCBfY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2JlZm9yZS1sb2FkZWRdJyk7XHJcbmNvbnN0IF9sb2FkaW5nID0gX2Nvbi5xdWVyeVNlbGVjdG9yKCdbc2xnLWxvYWRpbmddJyk7XHJcbmNvbnN0IF9kZWJ1Z09uID0gdHJ1ZTtcclxuY29uc3QgX3VpRmlsZVBhdGggPSBcIi4uL3VpL1wiO1xyXG5jb25zdCBfYXJyUHJvbWlzZSA9IFtdO1xyXG5fYXJyUHJvbWlzZS5wdXNoKER5bmFtaWNJbXBvcnQoX2RlYnVnT24gPyBgJHtfdWlGaWxlUGF0aH1tYWluLnVpLmpzYCA6IGAke191aUZpbGVQYXRofW1haW4udWkuanNgKSk7XHJcbl9hcnJQcm9taXNlLnB1c2goRHluYW1pY0ltcG9ydChfZGVidWdPbiA/IGAuL21haW4uYnVuZGxlLmpzYCA6IGAuL21haW4uYnVuZGxlLm1pbi5qc2ApKTtcclxuY29uc3QgX1VSTCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5jb25zdCBfY21kcyA9IF9VUkwuc2VhcmNoUGFyYW1zLmdldChcImNtZFwiKTtcclxuaWYgKF9jbWRzKSB7XHJcbiAgICBjb25zdCBhcnJDbWQgPSBfY21kcy5zcGxpdCgnfCcpO1xyXG4gICAgaWYgKGFyckNtZC5pbmNsdWRlcygnbG9naW4nKSkge1xyXG4gICAgICAgIGNvbnN0IF9hcnIgPSBbXTtcclxuICAgICAgICBfYXJyLnB1c2goTG9hZFNjcmlwdFdpdGhIVE1MU2NyaXB0VGFnKCcuL2xpYi9tZDUvbWQ1Lm1pbi5qcycpKTtcclxuICAgICAgICBfYXJyLnB1c2goRHluYW1pY0ltcG9ydChfZGVidWdPbiA/IGAke191aUZpbGVQYXRofWxvZ2luLnVpLmpzYCA6IGAke191aUZpbGVQYXRofWxvZ2luLnVpLmpzYCkpO1xyXG4gICAgICAgIFByb21pc2UuYWxsKF9hcnIpLnRoZW4oYXJyTW9kZWwgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBfZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhhcnJNb2RlbFsxXS5kZWZhdWx0LCAndGV4dC9odG1sJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IF90YXJnZXRFbGVtID0gX2RvYy5xdWVyeVNlbGVjdG9yKFwiYm9keSBbc2xnLWxvZ2luXVwiKTtcclxuICAgICAgICAgICAgaWYgKF90YXJnZXRFbGVtKSB7XHJcbiAgICAgICAgICAgICAgICBfY29uLmFwcGVuZChfdGFyZ2V0RWxlbSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfYnV0dG9uID0gX3RhcmdldEVsZW0ucXVlcnlTZWxlY3RvcignW3NsZy1sb2dpbi1idXR0b25dJyk7XHJcbiAgICAgICAgICAgICAgICBfYnV0dG9uLm9uY2xpY2sgPSBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfciA9IChfYyA9IChfYiA9IEdldEVsZW1lbnRFeHQoX3RhcmdldEVsZW0sIFwiaW5wdXRbbmFtZT0ncmVtJ11cIikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jaGVja2VkKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfYSA9IChfZSA9IChfZCA9IEdldEVsZW1lbnRFeHQoX3RhcmdldEVsZW0sIFwiaW5wdXRbbmFtZT0nYWNjb3VudCddXCIpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFsdWUpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9wID0gKF9nID0gKF9mID0gR2V0RWxlbWVudEV4dChfdGFyZ2V0RWxlbSwgXCJpbnB1dFtuYW1lPSdwd2QnXVwiKSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhbHVlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBTZXJ2ZXJQcm94eS5Mb2dpbihfYSwgd2luZG93Lk1ENShfcCkpLnRoZW4oXyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5JbmZvKCdsb2dpbiBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX1N0YXJ0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyckNtZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIF8gPT4geyB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2J1dHRvbi5vbmNsaWNrID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBfbG9hZGluZy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmVsc2Uge1xyXG4gICAgX1N0YXJ0KHtcclxuICAgICAgICBlZGl0b3JNb2RlOiBmYWxzZSxcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIF9TdGFydChvcHRpb24pIHtcclxuICAgIFByb21pc2UuYWxsKF9hcnJQcm9taXNlKS50aGVuKChhcnJEYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgX2RvYzIgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGFyckRhdGFbMF0uZGVmYXVsdCwgJ3RleHQvaHRtbCcpO1xyXG4gICAgICAgIGNvbnN0IEFwcGxpY2F0aW9uID0gYXJyRGF0YVsxXS5kZWZhdWx0O1xyXG4gICAgICAgIG5ldyBBcHBsaWNhdGlvbihfZG9jMi5ib2R5LCBvcHRpb24pO1xyXG4gICAgICAgIGNvbnN0IF9hcnJFbGVtID0gW107XHJcbiAgICAgICAgX2RvYzIuYm9keS5jaGlsZE5vZGVzLmZvckVhY2gobiA9PiB7XHJcbiAgICAgICAgICAgIF9hcnJFbGVtLnB1c2gobik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZXBsYWNlQ2hpbGRyZW4oLi4uX2FyckVsZW0pO1xyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5qcy5tYXAiXSwibmFtZXMiOlsiU2VydmVyUHJveHkiXSwibWFwcGluZ3MiOiI7O0FBQ2UsU0FBUyxhQUFhLENBQUMsR0FBRyxFQUFFO0FBQzNDLElBQUksT0FBTyxPQUFPLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSztBQUN4QyxRQUFRLE9BQU8sTUFBTSxDQUFDO0FBQ3RCLEtBQUssRUFBRSxDQUFDLE1BQU0sS0FBSztBQUNuQixRQUFRLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQywrQkFBK0IsRUFBRSxHQUFHLENBQUM7QUFDM0QsT0FBTyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM5QixRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUssQ0FBQyxDQUFDO0FBQ1A7O0FDTEEsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3ZELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUM7QUFFckQsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDO0FBQzdCLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUN2QixXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBWSxDQUFDLEVBQUUsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUE2QixDQUFDLENBQUMsQ0FBQztBQUNwRyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBWSxDQUFDLGdCQUFnQixDQUFDLENBQXlCLENBQUMsQ0FBQyxDQUFDO0FBQ3hGLE1BQU0sSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDM0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENB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
